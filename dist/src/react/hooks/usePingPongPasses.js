"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const S=require("react"),R=require("./useUniformUpdaters.js"),$=({programId:e,secondaryProgramId:n,iterations:o=1,uniforms:v,secondaryUniforms:C={},framebufferOptions:c={width:0,height:0,textureCount:2,textureOptions:{minFilter:WebGLRenderingContext.LINEAR,magFilter:WebGLRenderingContext.LINEAR}},renderOptions:s={clear:!0},customPasses:l})=>{const r=R.useUniformUpdaters(e,v),U=R.useUniformUpdaters(n??`${e}-secondary`,C);return S.useMemo(()=>{const u=`${e}-fb-a`,f=`${e}-fb-b`,E={[u]:c,[f]:c};let i=[];if(l)i=l;else{i.push({programId:e,inputTextures:[],outputFramebuffer:u,renderOptions:s});for(let t=0;t<o;t++){const p=n&&t%2===1?n:e,b=t%2===0?u:f,a=t%2===0?f:u,x=n&&t%2===1?U[n]:r[e],T={};x.forEach(F=>{const M=F.updateFn;T[F.name]={type:F.type,value:(m,y,A)=>M(m,y,A)}}),i.push({programId:p,inputTextures:[{id:b,textureUnit:0,bindingType:"read"}],outputFramebuffer:a,uniforms:T,renderOptions:s})}const L=o%2===0?f:u,h={};(n?U[n]:r[e]).forEach(t=>{const p=t.updateFn;h[t.name]={type:t.type,value:(b,a,x)=>p(b,a,x)}}),i.push({programId:n??e,inputTextures:[{id:L,textureUnit:0,bindingType:"read"}],outputFramebuffer:null,uniforms:h,renderOptions:s})}return{passes:i,framebuffers:E}},[e,n,o,r,U,c,s,l])};exports.usePingPongPasses=$;
